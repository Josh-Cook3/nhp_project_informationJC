---
title: "Glossary and definitions"
order: 1
---

This page clarifies the terminology that is used throughout the model and its associated apps.

## Bed days

Bed days are defined as `discharge_date - admission_date + 1`.

## Distribution of projections

The results of the (usually 256) Monte Carlo simulation runs, each of which will randomly sample from the 80% confidence intervals supplied as the model parameters. The "central projection" is the median result from the 256 runs.  

## Empirical Cumulative Distribution Function (ECDF) Curve / S-Curve

The s-curve shows the range of results (or values) obtained from all the model runs on the x-axis and their likelihood of occurring as (cumulative) percentages (0% to 100%) on the y-axis. There are three main ways of reading the s-curve. 

1. Start from the x-axis. Pick a value from the x-axis (say its 4500) and climb vertically to that point on the s-curve and then read the corresponding y-value - say this is 75%. This means there is a 75% chance that the x-value is less than or equal to 4500. In other words 75% of model runs produced a result of less than or equal to 4500.

2. Start from the y-axis. Pick a given percentage chance value from the y-axis and then find the corresponding x-value. For example, if you want what model results that were obtained 85% of the time, find 85% on the y-axis and then read the corresponding x-value - say this is 5900. This means that there is a 85% chance that the x-value is less than or equal to 5900.

3. You can also find the surprisingly low and high values from the s-curve by reading across from the two y-axis values - 10% and 90% - to the corresponding two x-values. Say these x-values are 6000 and 7300. This means that there is an 80% (=90%-10%) chance that x values fall between 6000 to 7300.

## Impact of changes

The Impact of Changes tab on the outputs app shows the "step counts" from the model results, which are high-level estimates of the number of rows that are added/removed due to each parameter. These should be regarded as very rough estimates. This is sometimes referred to as the "waterfall diagram" in the outputs app.

The waterfall chart shows the impact of the individual factors on projected future activity, if they were to happen in isolation. However, within the model, the factors are all applied to the baseline at the same time, which results in a compound effect. Additionally, due to the random sampling, the values may not always add up exactly. The effect of compounding and the random sampling are shown on the waterfall chart as a "model interaction term".

::: {.callout-note collapse="true"}
## Model interaction term worked example

Let’s assume in one model run that we have factors *a* and *b* which both impact on the same 1000 rows of activity, with the values 1.2 and 0.9.

The impact of factor *a* in isolation would be an addition of 200 rows, as 1.2 * 1000 = 1200, and 1200-1000 = 200.

The impact of factor *b* in isolation would be a reduction of 100 rows, as 0.9 * 1000 = 900, and 900-1000 = -100.

If we take the two factors in isolation, there would therefore be an addition of 100 rows in total, as 1000 + 200 – 100 = 1100.

In our simplified example model, the two factors are multiplied together and used as the lambda parameter in the Poisson resampling step.

1.2 * 0.9 = 1.08

$$ n_{future} = \sum_{i = 1}^{1000}x_i$$

where

$$ X \sim Pois(1.08)$$

The Poisson sampling is random, and as such will provide slightly different results every time. In one model run, it may return the value 1160, meaning that the number of rows has been increased by 160. This would be an estimate of future activity provided by the model.

There is therefore a difference between the impact of the factors taken in isolation (1100) and the model’s results using the compounded factors, with random sampling (1160). 

1160 – 1100 = 60.

This difference of 60 cannot be directly explained, as it is attributed to the compounded effect of the two factors together, together with the randomness inherent in the Poisson sampling step. It is this value which is encapsulated in the model interaction term.

:::

::: {.callout-note collapse="true"}
## Detailed technical explanation

The "step counts" in the model are created during the phase of the model where we create the factors. When we add a "step" to the model we work out which rows of activity are affected by the step, creating a new column per step with the factors for that row. We then take the weighted mean of each new column to get a scalar value, grouped by point of delivery and site of treatment. 

We take this weighted mean, subtract 1, and multiply by the baseline to get the estimated simple effect of the step in isolation from all other steps. When these simple effects are summed, they do not equal the total effect, as in the model the factors are actually multiplied together and not summed. Therefore, we include a model interaction term to describe the effect of multiplying the factors together as well as the residual from random sampling.

:::


## Inpatient admissions

The way in which these are classified and grouped is defined on [this page](https://connect.strategyunitwm.nhs.uk/nhp/project_information/data_extraction/inpatients.html).

## Outpatient attendances

These are divided into first, follow-up, and procedures. Added together, these 3 equal the total amount of outpatient activity. A single appointment cannot appear in procedures and first, or procedures and follow-up, or first and follow up. The way in which we define these is with the following code: 

```
CASE 
  WHEN SUSHRG NOT LIKE 'WF%' AND SUSHRG NOT LIKE 'U%' THEN 'procedure' 
  WHEN atentype IN ('1', '21') THEN 'first' 
  ELSE 'follow-up'`
```

## Principal projection

The key outputs of the model are estimates of future hospital activity. The principal projection can be thought of as the 'best guess' or most likely estimate based on the parameters set.

For model v2.0 onwards, the principal projection is the average (mean) of all the 256 Monte Carlo simulations which have been run for a scenario. In the outputs, users will see a principal projection figure for all the different types of activity which the model forecasts. This approach to determining the principal projection was adopted in July 2024. It ensures that the principal projection will sit in the middle of the activity distribution (i.e. it will be very close to the 50th percentile or median).

For model versions up to and including v1.2, the principal projection was determined by a single model run which took the midpoint of all the parameter confidence intervals set by the user. However, given the probabilistic nature of the model, we have found that using the average of all the simulations is a more stable method of determining the principal projection.  

This is not to be confused with the ONS principal population projection. 

## Summary by year

This page shows the results of the principal projection model run, with the chosen time profiles applied to show the estimated year-by-year increase in activity over time from the baseline year to the horizon year.
